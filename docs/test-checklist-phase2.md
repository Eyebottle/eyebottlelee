# Phase 2: 테스트 & 검증 체크리스트

## 📅 작성일: 2025-11-06
## 🎯 목표: MS Store 출시 전 최종 품질 검증

---

## 1️⃣ 주요 기능 재테스트

### 1.1 녹음 기능
- [ ] **기본 녹음**
  - 녹음 시작 버튼 클릭
  - 2분 이상 녹음
  - 녹음 중지 버튼 클릭
  - 파일 저장 확인 (저장 폴더에 파일 생성됨)

- [ ] **자동 세그먼트 분할**
  - 10분 이상 연속 녹음
  - 10분마다 파일이 분할되는지 확인
  - 각 세그먼트 파일명이 정상인지 확인

- [ ] **마이크 입력**
  - 앱 시작 시 자동 마이크 진단 실행됨
  - 녹음 중 볼륨 미터가 반응함
  - 실제 음성이 녹음되는지 재생해서 확인

### 1.2 WAV 자동 변환
- [ ] **세그먼트 분할 시 변환**
  - 10분 이상 녹음 → 첫 번째 세그먼트 WAV → AAC 변환 확인
  - 변환 후 원본 WAV 파일이 삭제되었는지 확인

- [ ] **녹음 중지 시 변환 (새로 추가된 기능!)**
  - 5분 녹음 후 중지
  - 5초 대기
  - 마지막 파일이 WAV → AAC로 변환되었는지 확인
  - 로그에서 "💡 마지막 WAV 파일 변환 예약" 메시지 확인

- [ ] **변환 실패 시 동작**
  - (선택적) ffmpeg.exe 삭제 후 테스트
  - 변환 실패 시 원본 WAV 유지되는지 확인
  - ffmpeg.exe 복원 후 정상 작동 확인

### 1.3 시간표 자동 녹음
- [ ] **시간표 설정**
  - "녹음 설정" 탭 진입
  - 시간표 편집 화면 열기
  - 요일별 진료 시간 설정 (예: 월~금 09:00~18:00)
  - 점심시간 설정 (예: 12:00~13:00)
  - 저장 버튼 클릭

- [ ] **자동 시작 (테스트 방법 1: 시간 변경)**
  - 현재 시각 확인 (예: 14:30)
  - 시간표에서 현재 시각이 포함된 시간으로 설정 (예: 14:00~15:00)
  - 저장 후 약 10초 대기
  - 자동으로 녹음 시작되는지 확인

- [ ] **자동 시작 (테스트 방법 2: 실제 대기)**
  - 진료 시작 시간 10분 전에 앱 실행
  - 진료 시간이 되면 자동 시작되는지 확인

- [ ] **자동 중지**
  - 진료 종료 시간이 지나면 자동 중지되는지 확인
  - 점심시간에 자동 중지되는지 확인

### 1.4 자동 실행 매니저
- [ ] **프로그램 추가**
  - "자동 실행" 탭 진입
  - "프로그램 추가" 버튼 클릭
  - 테스트용 프로그램 추가 (예: 메모장, 계산기)
  - 경로가 정상 표시되는지 확인

- [ ] **실행 순서 변경**
  - 드래그 핸들(⋮⋮) 사용하여 순서 변경
  - 변경된 순서가 저장되는지 확인

- [ ] **테스트 실행**
  - "테스트 실행" 버튼 클릭
  - 등록된 프로그램들이 순차적으로 실행되는지 확인
  - 대기 시간이 올바르게 작동하는지 확인

- [ ] **앱 재시작 시 자동 실행**
  - 자동 실행 스위치 ON
  - 앱 완전 종료
  - 앱 재실행
  - 등록된 프로그램들이 자동 실행되는지 확인

### 1.5 저장 위치
- [ ] **기본 폴더**
  - 저장 폴더 미설정 시 기본 경로에 저장되는지 확인
  - 경로: `%APPDATA%\EyebottleRecorder`

- [ ] **사용자 지정 폴더**
  - "저장 폴더 선택" 버튼 클릭
  - OneDrive 폴더 선택 (예: `C:\Users\[user]\OneDrive\진료녹음`)
  - 녹음 후 선택한 폴더에 저장되는지 확인

- [ ] **날짜별 폴더 생성**
  - 녹음 후 `YYYY-MM-DD` 형식의 하위 폴더 생성 확인
  - 다음 날 녹음 시 새로운 날짜 폴더 생성 확인

### 1.6 보관 기간 관리
- [ ] **보관 기간 설정**
  - 고급 설정 열기
  - 보관 기간 변경 (예: 7일)
  - 저장 확인

- [ ] **자동 정리 (테스트 어려움 - 시뮬레이션 필요)**
  - 테스트 파일의 수정 날짜를 8일 전으로 변경
  - 새 녹음 시작 → 오래된 파일 자동 삭제 확인
  - 또는 7일 후 실제로 삭제되는지 확인

### 1.7 시스템 트레이
- [ ] **트레이 아이콘**
  - 앱 실행 시 시스템 트레이 아이콘 표시됨
  - 창 닫기 시 트레이로 숨겨짐
  - 트레이 아이콘 좌클릭/더블클릭 시 창 복원

- [ ] **트레이 메뉴**
  - 우클릭 메뉴 표시됨
  - "녹음 시작/중지" 메뉴 동작
  - "마이크 점검" 메뉴 동작
  - "도움말" 메뉴 동작
  - "설정 열기" 메뉴 동작
  - "종료" 메뉴 동작

### 1.8 도움말 & 튜토리얼
- [ ] **도움말 센터**
  - 상단 "도움말" 버튼 클릭
  - 도움말 다이얼로그 표시됨
  - 모든 섹션이 정상 표시됨

- [ ] **튜토리얼**
  - 첫 실행 시 튜토리얼 자동 표시됨
  - 3개 튜토리얼 단계 (대시보드/설정/자동실행) 모두 표시됨
  - 다시 보기 가능

---

## 2️⃣ 에지 케이스 테스트

### 2.1 짧은 녹음
- [ ] **1초 녹음**
  - 녹음 시작 → 즉시 중지
  - 파일이 정상 생성되는지 확인
  - 파일 재생 가능한지 확인

- [ ] **30초 녹음**
  - 30초 녹음 후 중지
  - WAV → AAC 변환 확인

### 2.2 빈번한 중단
- [ ] **반복 시작/중지**
  - 녹음 시작 → 1분 후 중지
  - 다시 시작 → 2분 후 중지
  - 다시 시작 → 3분 후 중지
  - 총 3개 파일 생성 확인
  - 모든 파일이 AAC로 변환되었는지 확인

### 2.3 긴 녹음
- [ ] **1시간 이상 녹음**
  - 1시간 이상 연속 녹음
  - 6개 세그먼트 파일 생성 확인
  - 모든 세그먼트가 정상 재생되는지 확인
  - 메모리 누수 없는지 확인 (작업 관리자)

### 2.4 마이크 관련
- [ ] **마이크 없음**
  - 마이크 연결 해제
  - 앱 시작 시 경고 표시됨
  - 녹음 시도 시 오류 메시지 표시

- [ ] **마이크 권한 거부**
  - Windows 설정에서 마이크 권한 거부
  - 앱에서 적절한 오류 메시지 표시
  - 권한 복원 후 정상 작동

- [ ] **마이크 전환**
  - 녹음 중 마이크 변경
  - (예상: 현재 세그먼트는 계속 진행, 다음 세그먼트부터 새 마이크 사용)

### 2.5 저장 공간
- [ ] **디스크 공간 부족**
  - (선택적) 작은 용량의 USB 드라이브 사용
  - 공간 부족 시 적절한 오류 메시지 표시

### 2.6 앱 강제 종료
- [ ] **녹음 중 앱 강제 종료**
  - 작업 관리자에서 프로세스 강제 종료
  - 재시작 시 마지막 파일 복구 확인
  - (예상: 마지막 세그먼트는 WAV로 남아있을 수 있음)

### 2.7 시간표 엣지 케이스
- [ ] **자정 넘김**
  - 23:50에 시작하여 00:10까지 녹음
  - 날짜 폴더가 두 개 생성되는지 확인

- [ ] **요일 전환**
  - 금요일 23:50 ~ 토요일 00:10 녹음
  - 토요일 스케줄로 올바르게 전환되는지 확인

---

## 3️⃣ 성능 테스트

### 3.1 메모리 사용량
- [ ] **초기 메모리**
  - 앱 시작 직후 메모리 사용량 확인
  - 작업 관리자 → 세부 정보 → medical_recorder.exe
  - 예상: 100~200 MB

- [ ] **녹음 중 메모리**
  - 1시간 연속 녹음
  - 5분마다 메모리 사용량 기록
  - 메모리 증가율 확인 (누수 의심 기준: 시간당 50MB 이상 증가)

- [ ] **메모리 누수 체크**
  - 녹음 시작 → 중지 → 시작 → 중지 (10회 반복)
  - 최종 메모리가 초기보다 크게 증가했는지 확인

### 3.2 CPU 사용량
- [ ] **유휴 상태**
  - 녹음 없이 앱만 실행
  - CPU 사용량 확인 (예상: 0~1%)

- [ ] **녹음 중**
  - 녹음 진행 중 CPU 사용량 확인
  - 예상: WAV 직접 녹음 시 1~3%
  - 예상: WAV → AAC 변환 중 10~20% (일시적)

- [ ] **변환 작업 중**
  - 대용량 WAV 파일 변환 시 CPU 확인
  - 변환 완료 후 CPU가 정상으로 돌아오는지 확인

### 3.3 디스크 I/O
- [ ] **파일 쓰기 성능**
  - 리소스 모니터 → 디스크 탭
  - 녹음 중 쓰기 속도 확인
  - 시스템이 느려지지 않는지 확인

---

## 4️⃣ Windows 호환성 확인

### 4.1 Windows 11 (주 환경)
- [ ] **기본 동작**
  - 모든 주요 기능 정상 작동
  - UI가 올바르게 표시됨
  - 시스템 트레이 정상 작동

- [ ] **최신 빌드**
  - Windows 버전 확인: `winver` 명령
  - 빌드 버전 기록

### 4.2 Windows 10 (선택적)
- [ ] **기본 동작**
  - (가능하면) Windows 10 환경에서 테스트
  - 모든 기능 정상 작동 확인

### 4.3 고DPI 디스플레이
- [ ] **125% 배율**
  - 디스플레이 설정 → 배율 125%
  - UI 레이아웃 깨지지 않는지 확인

- [ ] **150% 배율**
  - 배율 150%로 변경
  - 모든 텍스트와 버튼이 읽기 쉬운지 확인

- [ ] **200% 배율**
  - 배율 200%로 변경
  - 대화상자가 화면을 넘어가지 않는지 확인

### 4.4 다중 모니터
- [ ] **모니터 간 이동**
  - (가능하면) 다중 모니터 환경
  - 창을 다른 모니터로 이동
  - 재시작 시 마지막 위치 기억하는지 확인

---

## 5️⃣ 테스트 결과 기록

### 테스트 환경
- **날짜**: YYYY-MM-DD
- **Windows 버전**:
- **CPU**:
- **RAM**:
- **디스플레이 배율**:

### 발견된 이슈
(이슈 발견 시 여기에 기록)

1.
2.
3.

### 성능 지표
- **초기 메모리**: ___ MB
- **1시간 후 메모리**: ___ MB
- **평균 CPU 사용량**: ___%
- **녹음 중 CPU**: ___%
- **변환 중 CPU**: ___%

---

## ✅ 테스트 완료 기준

- [ ] 모든 주요 기능 정상 작동
- [ ] 치명적 버그 없음
- [ ] 메모리 누수 없음
- [ ] 성능 저하 없음
- [ ] 사용자 경험 만족스러움

---

**테스트 완료 후 다음 단계**: Phase 3 (문서화) 또는 Phase 4 (MSIX 패키징)
