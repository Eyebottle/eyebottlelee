# MSIX 테스트 자동 확인 결과

## ✅ 자동 확인 완료 항목

### 📋 사전 준비
- ✅ **개발자 모드**: 활성화됨 (레지스트리 값: 1)
- ✅ **이전 버전 제거**: 완료 (v1.1.0.0 제거됨)
- ✅ **MSIX 파일**: 준비됨 (83MB, v1.3.0.0)

### ✅ 1단계: 설치 테스트
- ✅ **설치 진행**: 성공
  - 패키지 이름: `eyebottle.medical.recorder`
  - 버전: `1.3.0.0`
  - 설치 위치: `C:\Program Files\WindowsApps\eyebottle.medical.recorder_1.3.0.0_x64__fxkeb4dgdm144`
  - 실행 파일: `medical_recorder.exe` (93KB, 2025-11-07 08:59)

- ✅ **시작 메뉴 등록**: 확인됨
  - 앱 이름: "아이보틀 진료 녹음"
  - AppID: `eyebottle.medical.recorder_fxkeb4dgdm144!medicalrecorder`

- ✅ **리소스 파일 확인**: 모두 존재
  - `data/` 폴더 ✓
  - `data/flutter_assets/` ✓
  - `data/flutter_assets/assets/icons/` ✓
  - `data/flutter_assets/assets/bin/` ✓
  - `ffmpeg.exe` 존재 (181.5 MB) ✓

- ✅ **앱 데이터 폴더**: 생성됨
  - LocalState 경로: `C:\Users\user\AppData\Local\Packages\eyebottle.medical.recorder_fxkeb4dgdm144\LocalState`

---

## ⚠️ 수동 확인 필요 항목

### 🎨 시각적 확인 (1단계)

#### 아이콘 표시 확인
- [ ] **시작 메뉴 타일 아이콘**
  - 시작 메뉴에서 "아이보틀 진료 녹음" 검색
  - 타일 아이콘이 eyebottle 로고로 표시되는지 확인
  - 흐릿하거나 깨지지 않는지 확인

---

### 🚀 기본 기능 테스트 (2단계)

#### A. 앱 실행
- [ ] **앱 실행 확인**
  - 시작 메뉴에서 "아이보틀 진료 녹음" 클릭
  - 앱이 3초 이내에 실행되는지 확인
  - 메인 화면이 정상 표시되는지 확인
  - 로딩 오류가 없는지 확인

#### B. 초기 설정 확인
- [ ] **마이크 권한 요청**
  - 첫 실행 시 마이크 권한 요청 팝업이 나타나는지 확인
  - "허용" 클릭 후 권한이 부여되는지 확인

- [ ] **저장 폴더 선택**
  - 기본값이 OneDrive 폴더 또는 문서 폴더로 설정되는지 확인
  - 폴더 선택 다이얼로그가 정상 작동하는지 확인

- [ ] **설정 저장 확인**
  - 설정 변경 후 앱 재시작
  - 설정이 유지되는지 확인

---

### 🎙️ 핵심 기능 테스트 (3단계)

#### A. 녹음 기능
- [ ] **녹음 시작**
  - "녹음 시작" 버튼 클릭
  - 버튼이 "녹음 중지"로 변경되는지 확인
  - 볼륨 미터가 움직이는지 확인

- [ ] **녹음 진행**
  - 타이머가 정상 작동하는지 확인 (00:00:01, 00:00:02...)
  - 볼륨 레벨이 마이크 입력에 반응하는지 확인

- [ ] **녹음 중지**
  - "녹음 중지" 버튼 클릭
  - 녹음이 정상 중지되는지 확인
  - 저장 완료 메시지가 표시되는지 확인 (선택적)

#### B. 파일 저장 및 변환 (중요!)
- [ ] **WAV 파일 생성**
  - 저장 폴더에 WAV 파일이 생성되는지 확인
  - 파일명 형식이 `YYYYMMDD_HHmmss.wav`인지 확인

- [ ] **AAC 변환 확인** ⚠️ **핵심 테스트!**
  - 녹음 중지 후 5초 대기
  - WAV 파일이 AAC로 변환되는지 확인
  - 원본 WAV 파일이 삭제되는지 확인
  - AAC 파일 크기가 WAV보다 훨씬 작은지 확인

**예상 결과:**
```
녹음 중지 직후:
20251107_143000.wav (약 30 MB)

5초 후:
20251107_143000.aac (약 5 MB)  ← WAV 삭제됨
```

#### C. 설정 기능
- [ ] **진료 시간표 설정**
  - "녹음 설정" 탭 클릭
  - 요일별 시간 설정
  - 저장 후 반영 확인

- [ ] **고급 설정**
  - "고급 설정" 버튼 클릭
  - WAV 자동 변환 옵션 확인
  - 보관 기간 설정
  - 저장 버튼 클릭

- [ ] **자동 실행 매니저**
  - "자동 실행" 탭 클릭
  - 프로그램 추가 (예: 메모장)
  - ON/OFF 토글 동작 확인

---

### 🔧 MSIX 특화 테스트 (4단계)

#### A. FFmpeg 실행 확인 (중요!)
- [ ] **WAV → AAC 변환 테스트**
  - 짧은 녹음 (1-2분) 진행
  - 녹음 중지
  - 5초 후 AAC 파일 생성 확인
  - 로그에 FFmpeg 오류가 없는지 확인

#### B. 앱 데이터 폴더 확인
- [ ] **로그 파일 확인**
  - 로그 파일이 정상 생성되는지 확인
  - 앱 실행 기록 확인
  - 경로: `%LOCALAPPDATA%\Packages\eyebottle.medical.recorder_fxkeb4dgdm144\LocalState\`

- [ ] **설정 파일 확인**
  - shared_preferences 데이터 저장 확인

#### C. 권한 테스트
- [ ] **마이크 권한**
  - Windows 설정 → 개인정보 → 마이크
  - "아이보틀 진료 녹음"이 목록에 표시되는지 확인
  - 권한이 "허용"으로 설정되어 있는지 확인

- [ ] **파일 시스템 접근**
  - 사용자가 선택한 저장 폴더에 파일 생성 가능한지 확인
  - OneDrive 폴더 접근 가능한지 확인

---

### 🖥️ 시스템 통합 테스트 (5단계)

#### A. 작업 표시줄
- [ ] **최소화**
  - 창 최소화 → 작업 표시줄에 아이콘 표시
  - eyebottle 로고가 표시되는지 확인

- [ ] **시스템 트레이**
  - 시스템 트레이 아이콘 표시 (설정되어 있다면)
  - 우클릭 메뉴 동작 확인

#### B. 창 관리
- [ ] **크기 조절**
  - 창 크기 변경 가능한지 확인
  - UI가 정상 표시되는지 확인

- [ ] **최대화/복원**
  - 최대화 버튼 동작 확인
  - 복원 버튼 동작 확인

#### C. Alt+Tab
- [ ] **앱 전환**
  - Alt+Tab으로 앱 전환 시
  - eyebottle 로고가 표시되는지 확인
  - 앱 이름 "아이보틀 진료 녹음"이 표시되는지 확인

---

### 🔄 안정성 테스트 (6단계)

#### A. 재시작 테스트
- [ ] **앱 종료 및 재시작**
  - 앱 정상 종료
  - 시작 메뉴에서 재실행
  - 이전 설정이 유지되는지 확인

- [ ] **강제 종료**
  - 작업 관리자 → 프로세스 종료
  - 재시작 시 복구되는지 확인

#### B. 장시간 실행
- [ ] **장시간 녹음** (10분+)
  - 10분 이상 녹음 진행
  - 세그먼트 분할이 정상 작동하는지 확인
  - 각 세그먼트가 AAC로 변환되는지 확인
  - 메모리 누수 없는지 확인 (작업 관리자에서 메모리 사용량 모니터링)

---

### 🗑️ 제거 테스트 (7단계)

- [ ] **제거 진행**
  - PowerShell에서 제거: `Remove-AppxPackage -Package eyebottle.medical.recorder_1.3.0.0_x64__fxkeb4dgdm144`
  - 또는 Windows 설정 → 앱 → 설치된 앱 → "아이보틀 진료 녹음" → 제거
  - 오류 없이 제거되는지 확인

- [ ] **시작 메뉴에서 제거**
  - "아이보틀 진료 녹음" 검색 시 없음 확인

---

### 🔄 재설치 테스트 (8단계)

- [ ] **재설치 성공**
  - MSIX 파일로 재설치
  - 오류 없이 재설치되는지 확인

- [ ] **초기 상태 확인**
  - 이전 설정이 남아있는지 확인
  - 또는 초기 상태로 시작하는지 확인

---

## 📊 테스트 우선순위

### 🔴 필수 테스트 (반드시 확인)
1. **아이콘 표시** (시작 메뉴 타일)
2. **앱 실행** (3초 이내 실행)
3. **녹음 기능** (시작/중지)
4. **WAV → AAC 변환** ⚠️ **가장 중요!**
5. **FFmpeg 실행** (MSIX 샌드박스에서 정상 작동)

### 🟡 권장 테스트
6. 설정 저장/로드
7. 마이크 권한
8. 파일 시스템 접근
9. 시스템 통합 (작업 표시줄, Alt+Tab)
10. 제거/재설치

### 🟢 선택적 테스트
11. 장시간 실행 (10분+)
12. WACK 테스트

---

## 📝 테스트 결과 기록

**테스트 시작 날짜:** 2025-11-07
**테스트 완료 날짜:** _____________
**테스트 결과:** ⬜ 통과  ⬜ 실패 (문제: _____________)

**발견된 문제:**
- [ ] 문제 없음
- [ ] 문제 발견 (상세: _____________)

